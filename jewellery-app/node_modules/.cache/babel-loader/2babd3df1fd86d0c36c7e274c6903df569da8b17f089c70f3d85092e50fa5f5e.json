{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Log=()=>{const[email,setEmail]=useState();const[password,setPassword]=useState();const navigate=useNavigate();useEffect(()=>{const email=localStorage.getItem('email');if(email){navigate('/log');}});const handlerChange=async e=>{e.preventDefault();const form={email,password};try{if(email&&password){const response=await fetch(\"http://localhost:5000/log\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(form)});if(response.ok){const data=await response.json();console.log(data);alert(data.message);localStorage.setItem(\"email\",form.email);localStorage.setItem(\"add_id\",form.id);navigate('/');}else{const error=await response.json();alert(error.message);console.log(error);}}}catch(error){console.log(error);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"conatiner\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"LogIn\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"SingForm\",onSubmit:handlerChange,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:\" LogIn \"})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Already have an account\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/sign\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{children:\" Register \"})]})]})})});};export default Log;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Log","email","setEmail","password","setPassword","navigate","localStorage","getItem","handlerChange","e","preventDefault","form","response","fetch","method","headers","body","JSON","stringify","ok","data","json","console","log","alert","message","setItem","id","error","children","className","onSubmit","htmlFor","type","name","onChange","target","value","required","to"],"sources":["E:/React Project/jewellery_react/jewellery-app/src/Components/SignLog/Log.js"],"sourcesContent":["import React, { useEffect,useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\n \r\n\r\nconst Log = () => {\r\n    const [email, setEmail] = useState()\r\n    const [password, setPassword] = useState() \r\n    const navigate = useNavigate()\r\n    useEffect(() => {\r\n        const email = localStorage.getItem('email')\r\n        if (email) {\r\n            navigate('/log')\r\n        }\r\n    })\r\n    const handlerChange = async(e) => {\r\n        e.preventDefault()\r\n        const form=({email,password})\r\n        try {\r\n            if(email&&password){\r\n                const response= await fetch(\"http://localhost:5000/log\",{\r\n                    method:\"post\",\r\n                    headers:{\r\n                        \"Content-Type\":\"application/json\",\r\n                    },\r\n                    body:JSON.stringify(form)\r\n                })\r\n\r\n                if(response.ok){\r\n                 const data = await response.json()\r\n                    console.log(data)\r\n                    alert(data.message)\r\n                    localStorage.setItem(\"email\",form.email)\r\n                    localStorage.setItem(\"add_id\",form.id)\r\n                    navigate('/')\r\n                    \r\n                }\r\n                else\r\n                {\r\n                    const error=await response.json()\r\n                    alert(error.message)\r\n                    console.log(error)\r\n                \r\n        \r\n                }\r\n                \r\n            }\r\n            \r\n        } catch (error) {\r\n            console.log(error)\r\n            \r\n        }\r\n      \r\n    }\r\n\r\n    return (\r\n        <>\r\n           <div className=\"form-section\">\r\n            <div className=\"conatiner\">\r\n                <div><h2>LogIn</h2></div>\r\n                <form className='SingForm' onSubmit={handlerChange}>\r\n                    <div>\r\n                        <label htmlFor=\"\">Email</label>\r\n                        <input type=\"email\" name='email' onChange={(e) => setEmail(e.target.value)} required/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"\">Password</label>\r\n                        <input type=\"password\" name='password' onChange={(e) => setPassword(e.target.value)}required />\r\n                    </div>\r\n                    <div>\r\n                        <button> LogIn </button>\r\n                    </div>\r\n                </form>\r\n                <div><p>Already have an account</p></div>\r\n                <Link to=\"/sign\"> <button> Register </button></Link>\r\n            </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Log"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}